title: Bunjil Class
---

`import { Bunjil } from 'bunjil';`

## constructor

`const bunjil: Bunjil = new Bunjil(options);`

Create a new instance by passing an options object detailed below.

### _options_
|Property|Type|Description|
|---|---|---|
|_debug_|_boolean_|_true_ in your dev environment, but **never in production**|
|_server_|||
|_server.port_|_number_|The port to bind on. _(Technically optional to support unit/integration tests, but you need it in normal use)_.|
|_server.tracing_ <br> _(optional)_ <br> Default: _false_|_boolean_ _undefined_|_true_ if you want to enable tracing on the underlying _apollo-server_|
|_server.cacheControl_ <br> _(optional)_ <br> Default: _false_|_boolean_ _undefined_|_true_ if you want to enable tracing on the underlying _apollo-server_. |
|_server.disableIntrospection_|_boolean_|Disable intropsection queries. This is useful in production to hide your public graphql schema.|
|_server.disableBunjilCache_|_boolean_|Set to true to disable Bunjil's cache, useful when cacheControl is true, as it lets you use Apollo Engine's caching.|
|_server.useApolloCache|_boolean_|Enable to print information regarding the cacheability for use with Apollo Engine.|
|_server.useApolloTracing|_boolean_|Enable to print tracing data for use with Apollo Engine.|
|_endpoints_ | Preceding slash **required**.||
|_endpoints.graphQL_|_string_|Typically _/graphql_, this is the location where the GraphQL api is served from.|
|_endpoints.graphQL_|_subscriptions_|Typically _/graphql_, this is the location where the GraphQL subscriptions api is served from.|
|_endpoints.graphQL_|_playground_|Typically _/graphql_, this is the location where the GraphQL playground is served from.|
|_policies_|Array of _Policy_|An array of _Policy_ documents. <br> **See [Policy Reference](/api/policy.html)**|
|_hooks_|||
|_hooks.authentication_|_function_|A _Koa_ middleware function that populates _ctx.user_ with the authenticated user. <br>**See [Authentication](#Authentication-function)**|
|_hooks.authorization_|_function_|A hook to allow custom authorization logic. <br> _This overrides the policy engine and is not reccomended unless you require a different authorization method._ <br>**See [Authorization](#Authorization-function)**|
|_playgroundOptions_||**See [Playground](#Playground)**|


## addSchema({ schemas: [ schema ] })

|Property|Type|Description|
|---|---|---|
|_schemas_|_Array_|An array of GraphQL schemas.|


## addPrismaSchema({ typeDefs, prisma, contextKey })

Bunjil was designed to wrap generated Prisma bindings, and automatically add a `forwardTo` around the resolver. This means you can use your Prisma backend, with Bunjil's authorization infront of it.

|Property|Type|Description|
|---|---|---|
|_typeDefs_|_GraphQL typeDefs_|The typeDefs generated by the prisma bindings.|
|_prisma_|_Prisma_|The prisma object generated by the prisma bindings.|
|_contextKey_|_string_|The key to use when adding this to the GraphQl resolver context, typically _database_ or _db_.|

## start()

After you have added your schemas, start your server by awaiting as follows:

`await bunjil.start();`

The promise will resolve once the server has started.

## addContext(key: string, value: any)

With this, you can add anything else to your GraphQL resolver's context at runtime.

## Playground

|Property|Type|Description|
|---|---|---|
|_playgroundOptions_|||
|_~.enabled_|_boolean_||
|_~.endpoint_|_string_||
|_~.subscriptionsEndpoint_|_string_|||
