title: Bunjil Class
---

`import { Bunjil } from 'bunjil';`

## constructor

`const bunjil: Bunjil = new Bunjil(options);`

Create a new instance by passing an options object detailed below.

### `options`
|Property|Type|Description|
|---|---|---|
|`debug`|`boolean`|`true` in your dev environment, but **never in production**|
|`server`|||
|`server.port`|`number`|The port to bind on. _(Technically optional to support unit/integration tests, but you need it in normal use)_.|
|`server.tracing` <br> _(optional)_ <br> Default: `false`|`boolean` `undefined`|`true` if you want to enable tracing on the underlying `apollo-server`|
|`server.cacheControl` <br> _(optional)_ <br> Default: `false`|`boolean` `undefined`|`true` if you want to enable tracing on the underlying `apollo-server`. |
|`endpoints` | Preceding slash **required**.||
|`endpoints.graphQL`|`string`|Typically `/graphql`, this is the location where the GraphQL api is served from.|
|`endpoints.graphQL`|`subscriptions`|Typically `/graphql`, this is the location where the GraphQL subscriptions api is served from.|
|`endpoints.graphQL`|`playground`|Typically `/graphql`, this is the location where the GraphQL playground is served from.|
|`policies`|Array of `Policy`|An array of `Policy` documents. <br> **See [Policy Reference](/api/policy.html)**|
|`hooks`|||
|`hooks.authentication`|`function`|A `Koa` middleware function that populates `ctx.user` with the authenticated user. <br>**See [Authentication](#Authentication-function)**|
|`hooks.authorization`|`function`|A hook to allow custom authorization logic. <br> _This overrides the policy engine and is not reccomended unless you require a different authorization method._ <br>**See [Authorization](#Authorization-function)**|
|`playgroundOptions`||**See [Playground](#Playground)**|

#### Authentication function
(coming soon)

#### Authorization function
(coming soon)


## addSchema({ schemas: [ schema ] })

|Property|Type|Description|
|---|---|---|
|`schemas`|`Array`|An array of GraphQL schemas.|



## addPrismaSchema({ typeDefs, prisma, contextKey })

Bunjil was designed to wrap generated Prisma bindings, and automatically add a `forwardTo` around the resolver. This means you can use your Prisma backend, with Bunjil's authorization infront of it.

|Property|Type|Description|
|---|---|---|
|`typeDefs`|`GraphQL typeDefs`|The typeDefs generated by the prisma bindings.|
|`prisma`|`Prisma`|The prisma object generated by the prisma bindings.|
|`contextKey`|`string`|The key to use when adding this to the GraphQl resolver context, typically `database` or `db`.|

## start()

After you have added your schemas, start your server by awaiting as follows:

`await bunjil.start();`

The promise will resolve once the server has started.

## addContext(key: string, value: any)

With this, you can add anything else to your GraphQL resolver's context at runtime.

## Playground

|Property|Type|Description|
|---|---|---|
|`playgroundOptions`|||
|`~.enabled`|`boolean`||
|`~.endpoint`|`string`||
|`~.subscriptionsEndpoint`|`string`|||
